/*
  jQuery External Links Tracker Plugin
  Copyright (C) 2010 Paradigm New Media Group
  http://pnmg.com | http://github.com/pnmg/jquery-external-links-tracker
  GPL v2 license. See source file for more info.
*/
(function(a){a(document).ready(function(){var b=window.location.hostname;b=b.split(".");if(b.length==1){b=b[0]}else{if(b.length==4&&window.location.hostname.match(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)){b=window.location.hostname}else{b=b[b.length-2]+"."+b[b.length-1]}}a("a[href*='"+b+"'],a[href^='/'],a[href^='./'],a[href^='../']").live("click",function(c){if(a(this).hasClass("newwindow")){c.preventDefault();if(window.console){window.console.log("Internal link not tracked as outging: "+a(this).attr("href"))}window.open(a(this).attr("href"))}});a("a[href^='http']:not([href*='"+b+"'])").live("click",function(f){f.preventDefault();var c=this.href.replace(/^(http|https):\/\//,"").replace(/www\./i,"").replace(/\./gi,"_");var d="/outgoing/"+c;if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(d);if(window.console){window.console.log("Tracked external link: "+d)}}else{if(typeof(_gat)=="object"){_gaq.push(["_trackPageview",d]);if(window.console){window.console.log("Tracked external link: "+d)}}else{if(window.console){window.console.log("Could not track external link: "+d)}}}window.open(a(this).attr("href"))})})})(jQuery);